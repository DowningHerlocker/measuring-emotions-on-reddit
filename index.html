<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Subreddit Scores</title>
       <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.js'></script>
       <link rel="stylesheet" type="text/css" href="stylesheet.css">
        
    </head>
    <body>
        <script type="text/javascript">
        
        d3.json("subreddits.json", function (error, subreddits) {
            var subredditScores = []
            subreddits.forEach(function(subreddit){
              subredditScores.push(subreddit.sum)
              console.log(subredditScores)
            })
            subreddits= subreddits.sort(function (a,b){
              return a.sum - b.sum
            })

            
            d3.select("body").selectAll("div")
                .data(subredditScores)
                .enter()
                .append("div")
                .attr("class", function (d) {
                    if (d < 0) {
                        return "negative"
                    } else {
                        return "positive"
                }
              })
                .style("height", function(d) {
                      var barHeight = Math.abs(d) / 5
                      return barHeight + "px";
                  })
                .text(function (d){
                  return d;
                })
                .text(function (d){
                  return d.subreddit
                })
            })
        </script>
    </body>
</html> 


